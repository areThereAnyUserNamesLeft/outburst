package outburst

type Level int

const (
	Trace    Level = 0
	Debug    Level = 1
	Info     Level = 2
	Warn     Level = 3
	Error    Level = 4
	Fatal    Level = 5
	Panic    Level = 6
	Torettes Level = 7
)

type Line struct {
	Knots map[string]interface{}
	Time  string
	Level Level
	Emoji string
}

// Burst takes a map of string interface and returns a logging line
func (o outburst) Out(knots map[string]interface{}) Line {
	return Line{Knots: knots, Time: time.Now().Format(o.TimeFormat), Level: 2, Emojis: ""}
}

func (l Line) Burst(lvl Level) {
	str := Level(l.Level) + l.Time + l.Emojis
	for k, v := range l.Knot {
		str = str + fmt.Sprintf(" -  %s:%v", k, v)
	}
}
